1 3proxy overview（http://3proxy.ru/）
－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－
3proxy是一个开源代理服务器，跨平台（目前支持Win32/Win64/Unix/Linux...）. 
支持HTTPS, SOCKSv4/SOCKSv5, POP3, SMTP, AIM/ICQ MSN/Live, FTP, DNS代理，以及TCP/UDP端口映射
你可使用单独的程序(socks, proxy, tcppm, udppm, pop3p) ,也可使用聚合功能程序3proxy，
3proxy还支持ccess control, bandwidth limiting, limiting daily/weekly/monthly traffic amount, 
proxy chaining, log rotation, syslog and ODBC logging等功能

2 编译及运行（参考http://www.3proxy.ru/howtoe.asp）
$ cd <3proxy-src-dir>
$ make -f Makefile.Linux                                  // 编译（这里针对Linux平台）
$ make -f Makefile.Linux prefix=<install-dir> install     // 安装（通过prefix指定安装目录）
$ ./installed-dir/bin/socks -i127.0.0.1 -l             　 // 运行socks代理（也可运行其它代理）

3 SOCKS4/SCOKS4A/SOCKS5协议
SOCKS协议其实相当简单（参考http://en.wikipedia.org/wiki/SOCKS）


"- +_G%y-%m-%d_%H:%M:%S.%. %D %N.%p %E %U %C:%c %R:%r %O %I %h %T"

14-03-25_01:32:14.660 14585 SOCK5.1080 00000 101600017813 140.207.240.68:51689 127.0.0.1:443 2295 3294 0 CONNECT_us.it5test.ygomi.com:443

14-03-25_01:32:24.154 8221 SOCK5.1080 00421 101600017813 140.207.240.68:51691 0.0.0.0:0 0 0 0 UNKNOWN_0.0.0.0:0

%y - Year (2 digits)
%Y - Year (4 digits)
%m - Month (2 digits)
%o - mOnth (3 letter abbriviation)
%d - Day (2 digits)
%H - Hour (2 digits)
%M - Minute (2 digits)
%S - Second (2 digits)
%t - Timestamp (seconds since January, 1 1970 00:00:00 GMT)
%. - Milliseconds
%z - Timezone in mail format (from GMT, '+' east, '-' west HHMM), For example Moscow winter time is +0300.
%U - Username ('-' if unknown).
%N - Service name (PROXY, SOCKS, POP3P, etc)
%p - Service port
%E - Error code (see. Log error codes reference)
%C - client IP
%c - client port
%R - target IP
%r - target port
%e - external IP address used to establish connection
%Q - requested IP
%q - requested port
%I - bytes received from target
%O - bytes sent to target
%n - host name from request
%h - hops before target (if redirection or chaning is used). see How to use chains and parent proxies)
%T - service specific text (for example URL requested). %X-YT where X and Y are positive numbers, only displays fields
 (space delimited) X to Y of the text. An example is %1-2T. 
